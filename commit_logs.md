# sky-takeout项目提交日志

## 第一次提交 jay 2025/8/8 14:36

**核心内容** 基于初始项目原型（包含初始项目结构，定义了常量等），并做完了part2的新增员工 

## 第二次提交 jay 2025/8/9 18:06

**核心内容** 
1、做完了根据员工name、page和pageSize分页查询。 
2、做完了扩展mvc消息转换器（日期格式化） 

## 第三次提交 jay 2025/8/10 16:28

**核心内容**
1、employee启用/禁用（根据id改变status） 
2、employee信息回显（根据id查询）；修改employee信息 

## 第四次提交  jay 2025/8/11 16:12

**核心内容**
1、做完了分类category管理功能（菜品分类、套餐分类）。包括：新增菜品分类，菜品分类分页查询，根据id删除菜品分类，修改菜品分类，启用禁用菜品分类，分类类型查询（和分页查询不一样，为后面菜品、套餐提供接口） 
2、完善了员工管理。修改信息的时候要更新updateTime和updateUser，

## 第五次提交（pdf_day03的所有内容） jay 2025/8/18 15:54

**核心内容**
1、公共字段（createTime等）通过aop和反射自动填充 
2、菜品的增删改查，aliOSS图片的上传 

## 第六次提交 jay 2025/8/25 17:48

**核心内容**
1、day3的作业：菜品的起售停售（根据dishId改变status），而且如果是停售，关联套餐也要停售 
2、day4的实践任务，套餐管理，包括： 套餐分页查询、新增套餐、删除套餐、修改套餐、起售停售（如果起售要先判断关联的菜品status，若存在停售状态，则不允许起售）。 注意：套餐是和菜品有关系（多对多关系，单独一张表）。而且套餐也和category有关（多对一，在套餐表中写） 
3、day5：操作redis修改营业状态 

## 第七次提交（微信小程序开发） jay 2025/9/5 19:16

**核心内容**
1、微信小程序登录，设计接口接收登录请求code，然后通过httpClient请求微信的api验证，若通过（接收到openId），则用openId查询数据库，如果用户不存在，则注册。 登录成功后生成jwt并返回。 2、微信小程序每次请求要通过Interceptor验证jwt，如果成功还需要把userId封装在本次请求BaseContext1的threadLocal里 
3、小程序主界面商品浏览功能 
①查询分类category②根据分类id查询菜品③根据分类id查询套餐④根据套餐id查询包含的菜品（用户可以点开套餐弹窗，查看详情包含菜品） 

## 第八次提交 jay 2025/9/7 19:13

**核心内容**
1、用redis中间件实现菜品缓存，key为dish_1形式。 
2、用注解（spring cache）方式实现spring-data-redis的套餐的缓存。key为setmeal::1的形式 
3、购物车功能：对于菜品/套餐的 +1、-1，清空购物车，查看购物车 
4、地址簿功能： 
①增加地址②根据id删除地址③根据id修改地址④根据id查询地址（用于修改地址的回显）⑤查询所有地址（地址簿界面）⑥查询默认地址（下单界面）⑦设置默认地址 

## 第九次提交 jay 2025/9/23 0:08

**核心内容**
1、用户下单，微信支付实现订单支付 
2、day9作业 用户端：查询历史订单，查询订单详情，取消订单，再来一单 商家端：订单分页查询，各个状态订单数量查询，查询订单详情，接单，拒单，取消订单，派送，完成订单 

## 第十次提交（完结，包括day10、11、12） jay 2025/10/21 1:30

**核心内容**
1、spring Task实现超时订单定时处理（改变状态为已取消） 
2、WebSocket实现来单题型和客户催单 
3、数据统计（report）：前端用apache Echarts，后端通过数据库查询实现，包括营业额、客户、订单、销量排名top10 
4、工作台：今日数据、今日订单管理、菜品总览、套餐总览、订单信息（已实现，跟前面订单查询共用一个接口） 
5、用apache poi，根据已有xlsx模板，导出运营数据Excel报表（调用了工作台今日数据查询的接口） 